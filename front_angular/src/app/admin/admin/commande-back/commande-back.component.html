<div class="container">
  <h1>Commandes Management</h1>

  <!-- Add Commande Button -->
  <button class="btn add-btn" (click)="openAddCommandeModal()">
    Add Commande
  </button>

  <!-- Table of Commandes -->
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Shipping Address</th>
          <th>Status</th>
          <th>Payment Status</th>
          <th>Total</th>
          <th>client</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let commande of commandes">
          <td>{{ commande.commandeID }}</td>
          <td>{{ commande.shippingAddress }}</td>
          <td>{{ commande.status }}</td>
          <td>{{ commande.paymentStatus }}</td>
          <td>{{ commande.total }}</td>
          <td>{{ commande.user?.firstname }}</td>
          <td>
            <button
              class="btn edit-btn"
              (click)="editCommande(commande.commandeID!)"
            >
              Edit
            </button>
            <button
              class="btn delete-btn"
              (click)="deleteCommande(commande.commandeID!)"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Add Commande Modal -->
  <div class="modal" *ngIf="showAddModal && selectedCommande">
    <div class="modal-content">
      <h3>Add Commande</h3>
      <form>
        <label for="shippingAddress">Shipping Address:</label>
        <input
          type="text"
          id="shippingAddress"
          [(ngModel)]="selectedCommande.shippingAddress"
        />

        <label for="status">Status:</label>
        <input type="text" id="status" [(ngModel)]="selectedCommande.status" />

        <label for="paymentStatus">Payment Status:</label>
        <input
          type="text"
          id="paymentStatus"
          [(ngModel)]="selectedCommande.paymentStatus"
        />

        <label for="paymentMethod">Payment Method:</label>
        <input
          type="text"
          id="paymentMethod"
          [(ngModel)]="selectedCommande.paymentMethod"
        />

        <label for="shippingMethod">Shipping Method:</label>
        <input
          type="text"
          id="shippingMethod"
          [(ngModel)]="selectedCommande.shippingMethod"
        />

        <label for="shippingCost">Shipping Cost:</label>
        <input
          type="number"
          id="shippingCost"
          [(ngModel)]="selectedCommande.shippingCost"
        />

        <label for="total">Total:</label>
        <input type="number" id="total" [(ngModel)]="selectedCommande.total" />
      </form>
      <div class="modal-actions">
        <button class="btn save-btn" (click)="closeAddCommandeModal()">
          Save
        </button>
        <button class="btn cancel-btn" (click)="showAddModal = false">
          Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- Edit Commande Modal -->
  <div class="modal" *ngIf="showEditModal && selectedCommande">
    <div class="modal-content">
      <h3>Edit Commande</h3>
      <form>
        <label for="shippingAddress">Shipping Address:</label>
        <input
          type="text"
          id="shippingAddress"
          [(ngModel)]="selectedCommande.shippingAddress"
        />

        <label for="status">Status:</label>
        <input type="text" id="status" [(ngModel)]="selectedCommande.status" />

        <label for="paymentStatus">Payment Status:</label>
        <input
          type="text"
          id="paymentStatus"
          [(ngModel)]="selectedCommande.paymentStatus"
        />

        <label for="paymentMethod">Payment Method:</label>
        <input
          type="text"
          id="paymentMethod"
          [(ngModel)]="selectedCommande.paymentMethod"
        />

        <label for="shippingMethod">Shipping Method:</label>
        <input
          type="text"
          id="shippingMethod"
          [(ngModel)]="selectedCommande.shippingMethod"
        />

        <label for="shippingCost">Shipping Cost:</label>
        <input
          type="number"
          id="shippingCost"
          [(ngModel)]="selectedCommande.shippingCost"
        />

        <label for="total">Total:</label>
        <input type="number" id="total" [(ngModel)]="selectedCommande.total" />
      </form>
      <div class="modal-actions">
        <button class="btn save-btn" (click)="closeEditCommandeModal()">
          Save
        </button>
        <button class="btn cancel-btn" (click)="showEditModal = false">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
